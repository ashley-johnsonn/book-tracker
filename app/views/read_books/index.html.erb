<div class="max-w-4xl mx-auto font-serif py-5">

  <!-- Header -->
  <div class="mb-8">
    <h1 class="text-4xl font-bold text-gray-800 mb-4">My Books</h1>
    <%= link_to "Add New Book", book_search_search_path, 
        class: "bg-[#A3A695] hover:bg-[#12240F] text-white font-semibold py-2 px-6 rounded-lg inline-block transition" %>
  </div>

  <%= form_with url: read_books_path, method: :get, class: "mb-8" do |form| %>
    <%= form.text_field :search,
        value: params[:search],
        placeholder: "Search by title or author...",
        class: "shadow border rounded py-2 px-3 w-full md:w-1/2" %>
    <%= form.submit "Search", class: "bg-[#A3A695] hover:bg-[#12240F] text-white py-2 px-6 rounded-lg"%>
  <% end %>

  <% want_to_read = @books.where(status: 'want_to_read') %>
  <% reading = @books.where(status: 'reading') %>
  <% finished = @books.where(status: 'finished') %>

  <!-- Want to Read -->
  <% if want_to_read.any? %>
    <h2 class="text-2xl font-bold text-gray-800 mb-4">ðŸ“š Want to Read</h2>
    <div class="space-y-4 mb-8">
      <%= render partial: 'book_card', collection: want_to_read, as: :book %>
    </div>
  <% end %>

  <!-- Currently Reading -->
  <% if reading.any? %>
    <h2 class="text-2xl font-bold text-gray-800 mb-4">ðŸ“– Currently Reading</h2>
    <div class="space-y-4 mb-8">
      <%= render partial: 'book_card', collection: reading, as: :book %>
    </div>
  <% end %>

  <!-- Finished -->
  <% if finished.any? %>
    <h2 class="text-2xl font-bold text-gray-800 mb-4">âœ… Finished</h2>
    <div class="space-y-4 mb-8">
      <%= render partial: 'book_card', collection: finished, as: :book %>
    </div>
  <% end %>
</div>